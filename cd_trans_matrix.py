import numpy as np
import rasterio
from osgeo import gdal, ogr, osr
import ee
import geemap
import requests
import json
import numpy
import rasterio as rio

with open("D:\\deepai_assignment\\adept-odyssey-361315-39acde32aaa3.json", 'r') as file:
    data = json.loads(file.read())
credentials = ee.ServiceAccountCredentials('ee-490@adept-odyssey-361315.iam.gserviceaccount.com',
                                           key_data=data['private_key'])
ee.Initialize(credentials)
#
Champawat_geom = ee.Geometry.Polygon([[
    80.05306287895843,
    29.36081837654305
],
    [
        80.05306287895843,
        29.310359194086487
    ],
    [
        80.14656397080063,
        29.310359194086487
    ],
    [
        80.14656397080063,
        29.36081837654305
    ],
    [
        80.05306287895843,
        29.36081837654305
    ]])

# Champawat_geom = ee.Geometry.Polygon([[
#                 80.2465863464725,
#                 29.442597903167872
#               ],
#               [
#                 80.2463742308663,
#                 29.441023232617653
#               ],
#               [
#                 80.24632655527265,
#                 29.440739401482865
#               ],
#               [
#                 80.24625646197214,
#                 29.43970444123217
#               ],
#               [
#                 80.24625715532157,
#                 29.437432785017133
#               ],
#               [
#                 80.24708525934948,
#                 29.432906524065142
#               ],
#               [
#                 80.24761333483352,
#                 29.432699581685494
#               ],
#               [
#                 80.24819763919861,
#                 29.430573585679472
#               ],
#               [
#                 80.24886060865886,
#                 29.425937580065497
#               ],
#               [
#                 80.24888231060682,
#                 29.41982772197273
#               ],
#               [
#                 80.24763973542275,
#                 29.414617462632766
#               ],
#               [
#                 80.24820838504147,
#                 29.409908190796763
#               ],
#               [
#                 80.24875918512589,
#                 29.409353119570408
#               ],
#               [
#                 80.24891352834511,
#                 29.408070415521667
#               ],
#               [
#                 80.25641057743576,
#                 29.404683059025977
#               ],
#               [
#                 80.26028887587452,
#                 29.401974472908453
#               ],
#               [
#                 80.26081744101344,
#                 29.400856041038306
#               ],
#               [
#                 80.26849401551945,
#                 29.397399044741796
#               ],
#               [
#                 80.27150315514929,
#                 29.396876420494575
#               ],
#               [
#                 80.27344665355825,
#                 29.397015111617577
#               ],
#               [
#                 80.27627087249488,
#                 29.39569117105547
#               ],
#               [
#                 80.27680287807685,
#                 29.394998616236407
#               ],
#               [
#                 80.27755919974183,
#                 29.39408129076415
#               ],
#               [
#                 80.27945668838075,
#                 29.3877708304708
#               ],
#               [
#                 80.28015776824259,
#                 29.38327167228729
#               ],
#               [
#                 80.28047297096053,
#                 29.38157179288485
#               ],
#               [
#                 80.28111677963265,
#                 29.373760991989954
#               ],
#               [
#                 80.27861937785111,
#                 29.37135599561271
#               ],
#               [
#                 80.27568869744978,
#                 29.36923570982911
#               ],
#               [
#                 80.27506856607974,
#                 29.367880927910893
#               ],
#               [
#                 80.27533918678873,
#                 29.36494433714617
#               ],
#               [
#                 80.28050068014082,
#                 29.361550373848594
#               ],
#               [
#                 80.28049702603498,
#                 29.36109232245953
#               ],
#               [
#                 80.28102679737589,
#                 29.360660807308275
#               ],
#               [
#                 80.28306771714972,
#                 29.359067774631708
#               ],
#               [
#                 80.28359742873631,
#                 29.35861793760783
#               ],
#               [
#                 80.284228662068,
#                 29.356830397589647
#               ],
#               [
#                 80.28493756520245,
#                 29.345666018030983
#               ],
#               [
#                 80.28541407508064,
#                 29.343722974978082
#               ],
#               [
#                 80.291356558222,
#                 29.340560739570094
#               ],
#               [
#                 80.29211519086405,
#                 29.34078841954889
#               ],
#               [
#                 80.29470476978446,
#                 29.340330197747743
#               ],
#               [
#                 80.29510306178804,
#                 29.339637757089836
#               ],
#               [
#                 80.29704639248847,
#                 29.33355547475398
#               ],
#               [
#                 80.29680530230573,
#                 29.32678084426547
#               ],
#               [
#                 80.30172511396977,
#                 29.324866048565582
#               ],
#               [
#                 80.30298883301104,
#                 29.324309365344316
#               ],
#               [
#                 80.30541891130129,
#                 29.323997836578567
#               ],
#               [
#                 80.31122250945474,
#                 29.32542052745602
#               ],
#               [
#                 80.312262286028,
#                 29.32521237759032
#               ],
#               [
#                 80.31392305723658,
#                 29.32458158497199
#               ],
#               [
#                 80.31522200371352,
#                 29.323520827126867
#               ],
#               [
#                 80.3166361244517,
#                 29.322510266017893
#               ],
#               [
#                 80.3167299667497,
#                 29.3173244476005
#               ],
#               [
#                 80.31675561714667,
#                 29.316105887731005
#               ],
#               [
#                 80.31729085436505,
#                 29.31284313944753
#               ],
#               [
#                 80.31861146113641,
#                 29.308071662820268
#               ],
#               [
#                 80.31950220919144,
#                 29.304872365311105
#               ],
#               [
#                 80.31938648828665,
#                 29.29953105405647
#               ],
#               [
#                 80.31900068548525,
#                 29.29787805383939
#               ],
#               [
#                 80.31127241688873,
#                 29.291300909353016
#               ],
#               [
#                 80.30794598788272,
#                 29.282946631144913
#               ],
#               [
#                 80.30723533690397,
#                 29.274564287146358
#               ],
#               [
#                 80.30468320257461,
#                 29.264183166666236
#               ],
#               [
#                 80.3031663331555,
#                 29.252883645453032
#               ],
#               [
#                 80.30312166614289,
#                 29.250657168021995
#               ],
#               [
#                 80.3030511875083,
#                 29.247468564008145
#               ],
#               [
#                 80.30356782359625,
#                 29.24723391514042
#               ],
#               [
#                 80.30409942849754,
#                 29.24565686823199
#               ],
#               [
#                 80.30423456345476,
#                 29.241130009651833
#               ],
#               [
#                 80.29946763064258,
#                 29.23683684746203
#               ],
#               [
#                 80.29779640320746,
#                 29.23593740736709
#               ],
#               [
#                 80.29756957239297,
#                 29.23502146741244
#               ],
#               [
#                 80.29809269575578,
#                 29.221243386214518
#               ],
#               [
#                 80.29990612357038,
#                 29.216268810166284
#               ],
#               [
#                 80.3004121952276,
#                 29.21603417795342
#               ],
#               [
#                 80.3014572233632,
#                 29.215138760564837
#               ],
#               [
#                 80.30302251567777,
#                 29.20701684536474
#               ],
#               [
#                 80.30328670188078,
#                 29.20295223892584
#               ],
#               [
#                 80.30295603737449,
#                 29.201207152513575
#               ],
#               [
#                 80.30225196993662,
#                 29.19842266555344
#               ],
#               [
#                 80.29842584445406,
#                 29.19481926764203
#               ],
#               [
#                 80.29688475153638,
#                 29.194588428964572
#               ],
#               [
#                 80.29173839703745,
#                 29.19570669300905
#               ],
#               [
#                 80.28933133602,
#                 29.196966490200346
#               ],
#               [
#                 80.28835999688168,
#                 29.199217981854485
#               ],
#               [
#                 80.28783307261264,
#                 29.19944342442823
#               ],
#               [
#                 80.28630884634649,
#                 29.205365960668438
#               ],
#               [
#                 80.28502106796896,
#                 29.20633045177382
#               ],
#               [
#                 80.28399907295665,
#                 29.20704703334105
#               ],
#               [
#                 80.2834829572174,
#                 29.207432824417793
#               ],
#               [
#                 80.2824546041838,
#                 29.207659130310425
#               ],
#               [
#                 80.2751741008988,
#                 29.20761220254564
#               ],
#               [
#                 80.27243540347689,
#                 29.207882616004074
#               ],
#               [
#                 80.2647194418173,
#                 29.210575888880722
#               ],
#               [
#                 80.264455033197,
#                 29.211497303185393
#               ],
#               [
#                 80.26393062656794,
#                 29.211704341429538
#               ],
#               [
#                 80.26160776347895,
#                 29.21849834490599
#               ],
#               [
#                 80.2605692825205,
#                 29.218935312135624
#               ],
#               [
#                 80.25771410132667,
#                 29.219847108828112
#               ],
#               [
#                 80.25413997654452,
#                 29.219151786526037
#               ],
#               [
#                 80.25348882633047,
#                 29.21871295743407
#               ],
#               [
#                 80.25284316763705,
#                 29.217128696675353
#               ],
#               [
#                 80.25044738232495,
#                 29.202456853864344
#               ],
#               [
#                 80.25118658454257,
#                 29.201282734223913
#               ],
#               [
#                 80.25566160509631,
#                 29.197225226446744
#               ],
#               [
#                 80.2572107661198,
#                 29.196338460249613
#               ],
#               [
#                 80.25933010245447,
#                 29.19342549893144
#               ],
#               [
#                 80.26012025068995,
#                 29.192966025521237
#               ],
#               [
#                 80.26166307934001,
#                 29.19159350977906
#               ],
#               [
#                 80.26192751479005,
#                 29.190695001910505
#               ],
#               [
#                 80.26268636526821,
#                 29.190235564669926
#               ],
#               [
#                 80.26402208845309,
#                 29.18730089293247
#               ],
#               [
#                 80.26475930843374,
#                 29.185283587175523
#               ],
#               [
#                 80.26579928574851,
#                 29.179632224245413
#               ],
#               [
#                 80.26581196705389,
#                 29.1758015671836
#               ],
#               [
#                 80.26378682953572,
#                 29.171268589635826
#               ],
#               [
#                 80.26341002830289,
#                 29.164730466154644
#               ],
#               [
#                 80.26587675485098,
#                 29.16222910986265
#               ],
#               [
#                 80.26663574970475,
#                 29.15952431821104
#               ],
#               [
#                 80.26742338541074,
#                 29.159202248376765
#               ],
#               [
#                 80.26749150991542,
#                 29.158093232398006
#               ],
#               [
#                 80.26787855207333,
#                 29.157244870657454
#               ],
#               [
#                 80.26826348016044,
#                 29.15660728547041
#               ],
#               [
#                 80.26903470015729,
#                 29.155964509580375
#               ],
#               [
#                 80.26985681203273,
#                 29.154698400561347
#               ],
#               [
#                 80.2704421682102,
#                 29.153808439700406
#               ],
#               [
#                 80.271510322805,
#                 29.15291311726161
#               ],
#               [
#                 80.27426874859223,
#                 29.149127988280245
#               ],
#               [
#                 80.27414749465122,
#                 29.145068255994985
#               ],
#               [
#                 80.27362399748891,
#                 29.14437269454764
#               ],
#               [
#                 80.27209255162994,
#                 29.14347710932952
#               ],
#               [
#                 80.26713050702647,
#                 29.14203284390094
#               ],
#               [
#                 80.26306302983232,
#                 29.14025699058834
#               ],
#               [
#                 80.26076815910464,
#                 29.13866149926608
#               ],
#               [
#                 80.2556914346133,
#                 29.135901869496383
#               ],
#               [
#                 80.25451493387533,
#                 29.134872723786714
#               ],
#               [
#                 80.25272487720217,
#                 29.133743666745616
#               ],
#               [
#                 80.25016812339926,
#                 29.13156186379633
#               ],
#               [
#                 80.24286811754973,
#                 29.1206208974209
#               ],
#               [
#                 80.24081394907242,
#                 29.11903382497772
#               ],
#               [
#                 80.24031512888017,
#                 29.118805501717013
#               ],
#               [
#                 80.23288246111377,
#                 29.119714575466965
#               ],
#               [
#                 80.23081925211712,
#                 29.120171230639446
#               ],
#               [
#                 80.23021390249613,
#                 29.120172100272068
#               ],
#               [
#                 80.22606636210138,
#                 29.119614367637634
#               ],
#               [
#                 80.22505167398478,
#                 29.11984032233956
#               ],
#               [
#                 80.2194950202145,
#                 29.119238553014718
#               ],
#               [
#                 80.21821237513488,
#                 29.11991850509328
#               ],
#               [
#                 80.21392563245291,
#                 29.121798546597354
#               ],
#               [
#                 80.21285874394724,
#                 29.12202449286789
#               ],
#               [
#                 80.210261806224,
#                 29.12328813701177
#               ],
#               [
#                 80.21026297448785,
#                 29.123975493076056
#               ],
#               [
#                 80.20947754043534,
#                 29.125552897323814
#               ],
#               [
#                 80.20635836370084,
#                 29.128256050044897
#               ],
#               [
#                 80.20124301422379,
#                 29.129600610135643
#               ],
#               [
#                 80.19996394814142,
#                 29.12939600387373
#               ],
#               [
#                 80.19816243159119,
#                 29.130520972699575
#               ],
#               [
#                 80.19169905603925,
#                 29.132755890866182
#               ],
#               [
#                 80.1901573919651,
#                 29.133188452001875
#               ],
#               [
#                 80.1859357386297,
#                 29.132079867134383
#               ],
#               [
#                 80.18528034544357,
#                 29.131851521839845
#               ],
#               [
#                 80.18437014218601,
#                 29.130491575241866
#               ],
#               [
#                 80.18401906014886,
#                 29.129570907003536
#               ],
#               [
#                 80.17862612760649,
#                 29.125049480338397
#               ],
#               [
#                 80.1696453432386,
#                 29.12034381940448
#               ],
#               [
#                 80.16683476254208,
#                 29.118293763569906
#               ],
#               [
#                 80.16620055655918,
#                 29.11822568534863
#               ],
#               [
#                 80.16310592607223,
#                 29.114374918450043
#               ],
#               [
#                 80.1555443310011,
#                 29.12505061433106
#               ],
#               [
#                 80.1515022193499,
#                 29.12727698926631
#               ],
#               [
#                 80.14801008564825,
#                 29.12690447514265
#               ],
#               [
#                 80.13596432725825,
#                 29.12002301509284
#               ],
#               [
#                 80.12747296236465,
#                 29.117445448128464
#               ],
#               [
#                 80.12222228751126,
#                 29.116853804824636
#               ],
#               [
#                 80.10450754423707,
#                 29.11753536549853
#               ],
#               [
#                 80.09752612151364,
#                 29.11600462005607
#               ],
#               [
#                 80.08161047113609,
#                 29.12250695582418
#               ],
#               [
#                 80.07965192822871,
#                 29.12031747397211
#               ],
#               [
#                 80.08332503607132,
#                 29.110985481457924
#               ],
#               [
#                 80.08464269308632,
#                 29.10335926627147
#               ],
#               [
#                 80.0792371159099,
#                 29.08377993028458
#               ],
#               [
#                 80.07423379957201,
#                 29.075459828008874
#               ],
#               [
#                 80.07124048375888,
#                 29.073215577870567
#               ],
#               [
#                 80.0685773533697,
#                 29.073400024770585
#               ],
#               [
#                 80.06569423724956,
#                 29.076952998659902
#               ],
#               [
#                 80.06213430821005,
#                 29.08368204745303
#               ],
#               [
#                 80.05983423062222,
#                 29.085351086101454
#               ],
#               [
#                 80.05680836488014,
#                 29.08589294762426
#               ],
#               [
#                 80.05302727866892,
#                 29.083579897072777
#               ],
#               [
#                 80.0494127084202,
#                 29.079841460729725
#               ],
#               [
#                 80.04101605199781,
#                 29.073551542196377
#               ],
#               [
#                 80.03239449663518,
#                 29.071743253252183
#               ],
#               [
#                 80.02692741108241,
#                 29.072949554467446
#               ],
#               [
#                 80.02186225518382,
#                 29.07585590331784
#               ],
#               [
#                 80.01163783395076,
#                 29.087492804543295
#               ],
#               [
#                 80.0073464818532,
#                 29.08950949053449
#               ],
#               [
#                 80.00434105807977,
#                 29.088831362427282
#               ],
#               [
#                 80.00160700775972,
#                 29.085623457919517
#               ],
#               [
#                 80.00000260769521,
#                 29.068721800139485
#               ],
#               [
#                 79.97176789988579,
#                 29.051972967470828
#               ],
#               [
#                 79.97013074712109,
#                 29.053162008042275
#               ],
#               [
#                 79.96626645127517,
#                 29.055968327601487
#               ],
#               [
#                 79.96180257939332,
#                 29.060408281700358
#               ],
#               [
#                 79.959685897778,
#                 29.06468371751727
#               ],
#               [
#                 79.9590420605585,
#                 29.07139304286698
#               ],
#               [
#                 79.96128739501374,
#                 29.089766206022247
#               ],
#               [
#                 79.96503079370719,
#                 29.100096590010093
#               ],
#               [
#                 79.97050300017318,
#                 29.10684795006507
#               ],
#               [
#                 79.98023958386828,
#                 29.112774783026765
#               ],
#               [
#                 79.97821141095746,
#                 29.116733884523907
#               ],
#               [
#                 79.97555726889242,
#                 29.11878192904911
#               ],
#               [
#                 79.97089374443111,
#                 29.12058664812163
#               ],
#               [
#                 79.959348722614,
#                 29.12245382375183
#               ],
#               [
#                 79.94954333826601,
#                 29.1258420977915
#               ],
#               [
#                 79.92356453481037,
#                 29.130409715505152
#               ],
#               [
#                 79.91811349968188,
#                 29.125618351255213
#               ],
#               [
#                 79.91630538538848,
#                 29.12501711842016
#               ],
#               [
#                 79.9018679816887,
#                 29.133106160710813
#               ],
#               [
#                 79.89605647869112,
#                 29.148137269046
#               ],
#               [
#                 79.8825293227239,
#                 29.152742325525626
#               ],
#               [
#                 79.88003853521255,
#                 29.156117624008125
#               ],
#               [
#                 79.87936073093974,
#                 29.1579179542761
#               ],
#               [
#                 79.87998906860543,
#                 29.169456395568503
#               ],
#               [
#                 79.88213780286844,
#                 29.171909409600804
#               ],
#               [
#                 79.8930493351556,
#                 29.172686853870726
#               ],
#               [
#                 79.90213220139208,
#                 29.178479848369403
#               ],
#               [
#                 79.90293255739537,
#                 29.18658137790596
#               ],
#               [
#                 79.90505483309836,
#                 29.193886324448854
#               ],
#               [
#                 79.91008194128287,
#                 29.196253528020378
#               ],
#               [
#                 79.91399634946043,
#                 29.199467587961976
#               ],
#               [
#                 79.9193583180349,
#                 29.205518463299335
#               ],
#               [
#                 79.925236921629,
#                 29.208756066662175
#               ],
#               [
#                 79.92543930464488,
#                 29.215331056306557
#               ],
#               [
#                 79.92385374200227,
#                 29.22015032507759
#               ],
#               [
#                 79.91490637714641,
#                 29.227888929163463
#               ],
#               [
#                 79.91246586507397,
#                 29.233161106970876
#               ],
#               [
#                 79.90221461508968,
#                 29.249286916721797
#               ],
#               [
#                 79.89783882299707,
#                 29.25274779445328
#               ],
#               [
#                 79.89148478202496,
#                 29.250952249644254
#               ],
#               [
#                 79.88932177372998,
#                 29.25098744254207
#               ],
#               [
#                 79.88202538605933,
#                 29.254134293318238
#               ],
#               [
#                 79.87514116001199,
#                 29.26010330158442
#               ],
#               [
#                 79.86861013275731,
#                 29.260033953512924
#               ],
#               [
#                 79.86640313313491,
#                 29.26679427293213
#               ],
#               [
#                 79.86185721263962,
#                 29.269163553987166
#               ],
#               [
#                 79.8597704038185,
#                 29.27316584632234
#               ],
#               [
#                 79.8551155131264,
#                 29.274554419569107
#               ],
#               [
#                 79.84729403197653,
#                 29.27365835404947
#               ],
#               [
#                 79.82782849432277,
#                 29.266716327020113
#               ],
#               [
#                 79.82475527564526,
#                 29.267308576648333
#               ],
#               [
#                 79.82071961529516,
#                 29.270369082039807
#               ],
#               [
#                 79.81587616100096,
#                 29.275325125846653
#               ],
#               [
#                 79.81408620060523,
#                 29.280706074085355
#               ],
#               [
#                 79.81700287558681,
#                 29.28551056246161
#               ],
#               [
#                 79.81432343272259,
#                 29.28974509157594
#               ],
#               [
#                 79.81604869655834,
#                 29.299830160929513
#               ],
#               [
#                 79.81864109597471,
#                 29.305151706085983
#               ],
#               [
#                 79.81813555917053,
#                 29.307730275062184
#               ],
#               [
#                 79.81251226143048,
#                 29.312327741814048
#               ],
#               [
#                 79.80770488476679,
#                 29.314681260590625
#               ],
#               [
#                 79.80650256096818,
#                 29.31639766566052
#               ],
#               [
#                 79.80529155824802,
#                 29.326909386054854
#               ],
#               [
#                 79.79888517553027,
#                 29.334826363066117
#               ],
#               [
#                 79.82085424482408,
#                 29.341466997384984
#               ],
#               [
#                 79.82369931800413,
#                 29.33902399943292
#               ],
#               [
#                 79.82739019486827,
#                 29.337342273358374
#               ],
#               [
#                 79.83261641704085,
#                 29.336825589406587
#               ],
#               [
#                 79.83176808384991,
#                 29.324396880901993
#               ],
#               [
#                 79.83853012598631,
#                 29.32229203545547
#               ],
#               [
#                 79.85334834116878,
#                 29.31497671723629
#               ],
#               [
#                 79.85820352141725,
#                 29.313538071992884
#               ],
#               [
#                 79.86189993222746,
#                 29.31507135365217
#               ],
#               [
#                 79.86400608381105,
#                 29.317803401234357
#               ],
#               [
#                 79.864564891342,
#                 29.32781769738074
#               ],
#               [
#                 79.86814918087966,
#                 29.33211293013919
#               ],
#               [
#                 79.86914172757598,
#                 29.33527909717686
#               ],
#               [
#                 79.86944171656923,
#                 29.34080834194193
#               ],
#               [
#                 79.87122070751695,
#                 29.344506403429527
#               ],
#               [
#                 79.87744220515178,
#                 29.34751162756282
#               ],
#               [
#                 79.88707415905371,
#                 29.34934179406901
#               ],
#               [
#                 79.89996904373704,
#                 29.348108967575413
#               ],
#               [
#                 79.9016483948564,
#                 29.353419017886072
#               ],
#               [
#                 79.90067004149294,
#                 29.357426448619183
#               ],
#               [
#                 79.89188896801802,
#                 29.368143913975246
#               ],
#               [
#                 79.88700046516118,
#                 29.3670503781342
#               ],
#               [
#                 79.87363855973415,
#                 29.370347581213572
#               ],
#               [
#                 79.86021613795494,
#                 29.368760787550357
#               ],
#               [
#                 79.85797652508194,
#                 29.369940593534697
#               ],
#               [
#                 79.85738998172793,
#                 29.379742262877198
#               ],
#               [
#                 79.85049227097925,
#                 29.383565234254522
#               ],
#               [
#                 79.84215043685889,
#                 29.395718099248814
#               ],
#               [
#                 79.83972164037024,
#                 29.397016501940957
#               ],
#               [
#                 79.8362505301947,
#                 29.39748934460335
#               ],
#               [
#                 79.83432150420404,
#                 29.400560723522602
#               ],
#               [
#                 79.83615937348519,
#                 29.405083321827664
#               ],
#               [
#                 79.85229541193134,
#                 29.421747793810688
#               ],
#               [
#                 79.85696849264804,
#                 29.42978082149067
#               ],
#               [
#                 79.8571349360418,
#                 29.43287702721968
#               ],
#               [
#                 79.85489879803039,
#                 29.43456961772095
#               ],
#               [
#                 79.85197161480185,
#                 29.434356282499866
#               ],
#               [
#                 79.84948193692503,
#                 29.43790342153309
#               ],
#               [
#                 79.84888118344773,
#                 29.44351329080438
#               ],
#               [
#                 79.85127537568421,
#                 29.452038604966116
#               ],
#               [
#                 79.85420354597115,
#                 29.45394651425038
#               ],
#               [
#                 79.85818283110062,
#                 29.452072338610183
#               ],
#               [
#                 79.86173709395405,
#                 29.448814589863602
#               ],
#               [
#                 79.86754985560952,
#                 29.454571725354015
#               ],
#               [
#                 79.86705099604637,
#                 29.456187988041485
#               ],
#               [
#                 79.87133050802063,
#                 29.462360413367364
#               ],
#               [
#                 79.87697714773722,
#                 29.473099586815742
#               ],
#               [
#                 79.88689505017022,
#                 29.482060006573597
#               ],
#               [
#                 79.89752242672357,
#                 29.48622077945136
#               ],
#               [
#                 79.90805983121686,
#                 29.489107648796328
#               ],
#               [
#                 79.91214649908486,
#                 29.48760327521426
#               ],
#               [
#                 79.9153858615786,
#                 29.48493056627549
#               ],
#               [
#                 79.91987571086248,
#                 29.47887867272834
#               ],
#               [
#                 79.92171051181703,
#                 29.47435032126948
#               ],
#               [
#                 79.92747060566941,
#                 29.474179017946657
#               ],
#               [
#                 79.9448039524567,
#                 29.477506116694276
#               ],
#               [
#                 79.96079738464672,
#                 29.475262196244756
#               ],
#               [
#                 79.9760352279121,
#                 29.480082928252063
#               ],
#               [
#                 79.97933475819407,
#                 29.483760760221458
#               ],
#               [
#                 79.9867726033135,
#                 29.4853827056323
#               ],
#               [
#                 79.99071136432416,
#                 29.487878848486755
#               ],
#               [
#                 79.99441215989336,
#                 29.48754929650561
#               ],
#               [
#                 80.00001046365298,
#                 29.485813739833546
#               ],
#               [
#                 80.00397297597246,
#                 29.487393655432722
#               ],
#               [
#                 80.00749055823762,
#                 29.48675693054893
#               ],
#               [
#                 80.01091153840481,
#                 29.48952735822652
#               ],
#               [
#                 80.01676657898204,
#                 29.490781627228937
#               ],
#               [
#                 80.02379507860995,
#                 29.495726572472908
#               ],
#               [
#                 80.02736557604531,
#                 29.497168524424513
#               ],
#               [
#                 80.02973841665816,
#                 29.50320835701282
#               ],
#               [
#                 80.03200588169872,
#                 29.50555256273682
#               ],
#               [
#                 80.04203151620618,
#                 29.505857086887286
#               ],
#               [
#                 80.0650750410141,
#                 29.511504915811695
#               ],
#               [
#                 80.07261437344803,
#                 29.516245811726886
#               ],
#               [
#                 80.07248806330064,
#                 29.51960706046335
#               ],
#               [
#                 80.07184308137403,
#                 29.520766242933124
#               ],
#               [
#                 80.07863622594324,
#                 29.523138994978122
#               ],
#               [
#                 80.0844842810979,
#                 29.522567713023808
#               ],
#               [
#                 80.09358096091356,
#                 29.521426041279426
#               ],
#               [
#                 80.10073316064914,
#                 29.526536609457857
#               ],
#               [
#                 80.1065797997473,
#                 29.52425953552854
#               ],
#               [
#                 80.11242159921585,
#                 29.516867467660326
#               ],
#               [
#                 80.12281318652302,
#                 29.511744981043474
#               ],
#               [
#                 80.12800604264051,
#                 29.506625952230053
#               ],
#               [
#                 80.12279732990156,
#                 29.495831614791246
#               ],
#               [
#                 80.1292864201212,
#                 29.488438047315142
#               ],
#               [
#                 80.13643248106597,
#                 29.488432152045625
#               ],
#               [
#                 80.13967366466645,
#                 29.48217747513024
#               ],
#               [
#                 80.14486657876158,
#                 29.478762726823895
#               ],
#               [
#                 80.14615832853195,
#                 29.472509548691505
#               ],
#               [
#                 80.15915395051157,
#                 29.47590742884911
#               ],
#               [
#                 80.15979911754447,
#                 29.472496589317682
#               ],
#               [
#                 80.15849709861125,
#                 29.470224409698563
#               ],
#               [
#                 80.16304241196804,
#                 29.46908311577726
#               ],
#               [
#                 80.16433696926445,
#                 29.465671593460605
#               ],
#               [
#                 80.17343190791262,
#                 29.466798779225403
#               ],
#               [
#                 80.17862653296231,
#                 29.465656374674822
#               ],
#               [
#                 80.1799147743737,
#                 29.45826596004113
#               ],
#               [
#                 80.19485566672475,
#                 29.459953775267657
#               ],
#               [
#                 80.20263836646907,
#                 29.453123578876905
#               ],
#               [
#                 80.21757694039923,
#                 29.45367244042307
#               ],
#               [
#                 80.23704438757959,
#                 29.44511907330198
#               ],
#               [
#                 80.2465863464725,
#                 29.442597903167872
#               ]])

collection = ee.ImageCollection('COPERNICUS/S2_SR').filterBounds(Champawat_geom).filterDate(ee.Date('2019-03-01'), ee.Date('2019-03-20'))

img1 = ee.Image('COPERNICUS/S2_SR/20190318T051651_20190318T052212_T44RMT')
url1 = img1.getDownloadUrl({
    'bands': ['B2', 'B3', 'B4', 'B8'],
    'region': Champawat_geom,
    'scale': 10,
    'format': 'GEO_TIFF'
})
response1 = requests.get(url1)
with open('D:\\deepai_assignment\\s2_sr_multi_band_20190318.tif', 'wb') as fd:
    fd.write(response1.content)
#
# img2 = ee.Image('COPERNICUS/S2_SR/20200302T051721_20200302T052546_T44RMT')
# url2 = img2.getDownloadUrl({
#     'bands': ['B2', 'B3', 'B4', 'B8'],
#     'region': Champawat_geom,
#     'scale': 10,
#     'format': 'GEO_TIFF'
# })
# response2 = requests.get(url2)
# with open('D:\\deepai_assignment\\s2_sr_multi_band_20200302.tif', 'wb') as fd:
#     fd.write(response2.content)
#
# img3 = ee.Image('COPERNICUS/S2_SR/20210302T051729_20210302T052733_T44RMT')
# url3 = img3.getDownloadUrl({
#     'bands': ['B2', 'B3', 'B4', 'B8'],
#     'region': Champawat_geom,
#     'scale': 10,
#     'format': 'GEO_TIFF'
# })
# response3 = requests.get(url3)
# with open('D:\\deepai_assignment\\s2_sr_multi_band_20210302.tif', 'wb') as fd:
#     fd.write(response3.content)
#
# img4 = ee.Image('COPERNICUS/S2_SR/20220302T051731_20220302T052536_T44RMT')
# url4 = img3.getDownloadUrl({
#     'bands': ['B2', 'B3', 'B4', 'B8'],
#     'region': Champawat_geom,
#     'scale': 10,
#     'format': 'GEO_TIFF'
# })
# response4 = requests.get(url4)
# with open('D:\\deepai_assignment\\s2_sr_multi_band_20220302.tif', 'wb') as fd:
#     fd.write(response4.content)
#
#
# img5 = ee.Image('COPERNICUS/S2_SR/20230302T051729_20230302T052948_T44RMT')
# url5 = img5.getDownloadUrl({
#     'bands': ['B2', 'B3', 'B4', 'B8'],
#     'region': Champawat_geom,
#     'scale': 10,
#     'format': 'GEO_TIFF'
# })
# response5 = requests.get(url5)
# with open('D:\\deepai_assignment\\s2_sr_multi_band_20230302.tif', 'wb') as fd:
#     fd.write(response5.content)
#
img6 = ee.Image('GOOGLE/DYNAMICWORLD/V1/20190318T051651_20190318T052212_T44RMT')
url6 = img6.getDownloadUrl({
    'bands': [],
    'region': Champawat_geom,
    'scale': 10,
    'format': 'GEO_TIFF'
})
response6 = requests.get(url6)
with open('D:\\deepai_assignment\\wd_20190318.tif', 'wb') as fd:
    fd.write(response6.content)
#
# img7 = ee.Image('GOOGLE/DYNAMICWORLD/V1/20200302T051721_20200302T052546_T44RMT')
# url7 = img7.getDownloadUrl({
#     'bands': [],
#     'region': Champawat_geom,
#     'scale': 10,
#     'format': 'GEO_TIFF'
# })
# response7 = requests.get(url7)
# with open('D:\\deepai_assignment\\wd_20200302.tif', 'wb') as fd:
#     fd.write(response7.content)
#
# img8 = ee.Image('GOOGLE/DYNAMICWORLD/V1/20210302T051729_20210302T052733_T44RMT')
# url8 = img8.getDownloadUrl({
#     'bands': [],
#     'region': Champawat_geom,
#     'scale': 10,
#     'format': 'GEO_TIFF'
# })
# response8 = requests.get(url8)
# with open('D:\\deepai_assignment\\wd_20210302.tif', 'wb') as fd:
#     fd.write(response8.content)
#
# img9 = ee.Image('GOOGLE/DYNAMICWORLD/V1/20220302T051731_20220302T052536_T44RMT')
# url9 = img9.getDownloadUrl({
#     'bands': [],
#     'region': Champawat_geom,
#     'scale': 10,
#     'format': 'GEO_TIFF'
# })
# response9 = requests.get(url9)
# with open('D:\\deepai_assignment\\wd_20220302.tif', 'wb') as fd:
#     fd.write(response9.content)
#
# img10 = ee.Image('GOOGLE/DYNAMICWORLD/V1/20230302T051729_20230302T052948_T44RMT')
# url10 = img10.getDownloadUrl({
#     'bands': [],
#     'region': Champawat_geom,
#     'scale': 10,
#     'format': 'GEO_TIFF'
# })
# response10 = requests.get(url10)
# with open('D:\\deepai_assignment\\wd_20230302.tif', 'wb') as fd:
#     fd.write(response10.content)

# collectionList = collection.toList(collection.size())
# collectionSize = collectionList.size().getInfo()
# for i in range(collectionSize):
#     image = ee.Image(collectionList.get(i))
#     image = image.clip(Champawat_geom)
#     image_name = image.get('system:index').getInfo()
#     # print(i)
#     # print(image_name)
#     img_name = str(image_name)
#     url = image.getDownloadUrl({
#         'name': img_name,
#         'scale': 10,
#         'crs': 'EPSG:4326',
#         'region': Champawat_geom,
#         'format': "GEO_TIFF"
#     })
#     print(url)
#     r = requests.get(url, stream=True)
#     filenameTif = 'D:\\deepai_assignment\\' + img_name + '.tif'
#     with open(filenameTif, "wb") as fd:
#         for chunk in r.iter_content(chunk_size=1024):
#             fd.write(chunk)






